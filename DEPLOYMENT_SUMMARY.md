# éƒ¨ç½²æ€»ç»“ - Reactæ··æ²Œå·¥ç¨‹æ¼”ç»ƒé¡¹ç›®

## ğŸ¯ é¡¹ç›®é‡æ–°å®šä¹‰

æ ¹æ®æ‚¨çš„éœ€æ±‚ï¼Œé¡¹ç›®å·²é‡æ–°å®šä¹‰ä¸ºï¼š

**åªåˆ†æå¯åŠ¨å¤±è´¥çš„æƒ…å†µï¼Œä¸åŒ…å«è¿è¡Œæ—¶é”™è¯¯**

---

## âœ… æœ€ç»ˆäº¤ä»˜

### 1. æ•…éšœç±»å‹ï¼ˆ12ç§æ„å»ºå¤±è´¥é”™è¯¯ï¼‰

#### è¯­æ³•å’Œç¼–è¯‘é”™è¯¯ï¼ˆ4ç§ï¼‰
1. **syntax-error** - JSXè¯­æ³•é”™è¯¯
2. **import-error** - å¯¼å…¥è·¯å¾„é”™è¯¯
3. **typescript-error** - TypeScriptç±»å‹é”™è¯¯
4. **undefined-variable** - æœªå®šä¹‰å˜é‡

#### ä¾èµ–å’Œé…ç½®é”™è¯¯ï¼ˆ4ç§ï¼‰
5. **dependency-missing** - ä¾èµ–åŒ…ç¼ºå¤±
6. **dependency-version-conflict** - ä¾èµ–ç‰ˆæœ¬å†²çª
7. **env-variable-missing** - ç¯å¢ƒå˜é‡ç¼ºå¤±
8. **vite-config-error** - Viteé…ç½®é”™è¯¯

#### èµ„æºå’Œæ‰“åŒ…é”™è¯¯ï¼ˆ4ç§ï¼‰
9. **css-syntax-error** - CSSè¯­æ³•é”™è¯¯
10. **circular-dependency** - å¾ªç¯ä¾èµ–
11. **build-out-of-memory** - æ„å»ºå†…å­˜æº¢å‡º
12. **asset-size-exceeded** - èµ„æºæ–‡ä»¶è¿‡å¤§

### 2. æ ¸å¿ƒç‰¹ç‚¹

âœ… **æ‰€æœ‰æ•…éšœéƒ½å¯¼è‡´æ„å»ºå¤±è´¥**
- Verceléƒ¨ç½²å¤±è´¥
- åº”ç”¨æ— æ³•å¯åŠ¨
- åªèƒ½é€šè¿‡Buildæ—¥å¿—åˆ†æ

âœ… **çœŸå®çš„é”™è¯¯ä»£ç **
- ä¸æ˜¯é…ç½®å¼€å…³
- çœŸå®çš„ä»£ç é”™è¯¯
- äº§ç”ŸçœŸå®çš„Git Commit

âœ… **å®Œæ•´çš„å·¥å…·é“¾**
- CLIå·¥å…·ï¼ˆinject, restore, list, infoï¼‰
- è‡ªåŠ¨å¤‡ä»½æ¢å¤
- è¯¦ç»†çš„æ“ä½œæ‰‹å†Œ

---

## ğŸ“– å…³é”®æ–‡æ¡£

### 1. æ•…éšœæµ‹è¯•æ“ä½œæ‰‹å†Œ â­ é‡ç‚¹
**è·¯å¾„**ï¼š`docs/FAULT_TEST_MANUAL.md`

**å†…å®¹**ï¼š
- 12ç§æ•…éšœçš„è¯¦ç»†æµ‹è¯•æ­¥éª¤
- æ¯ç§æ•…éšœçš„é¢„æœŸç»“æœ
- Buildæ—¥å¿—ç¤ºä¾‹
- éªŒè¯æ–¹æ³•
- æ¢å¤æ­¥éª¤

### 2. å¾…åŠäº‹é¡¹æ¸…å•
**è·¯å¾„**ï¼š`docs/Reactæ··æ²Œå·¥ç¨‹æ¼”ç»ƒ/TODO_Reactæ··æ²Œå·¥ç¨‹æ¼”ç»ƒ.md`

**å†…å®¹**ï¼š
- Verceléƒ¨ç½²é…ç½®æŒ‡å—
- GitHub Webhooké…ç½®æŒ‡å—
- æ•…éšœåˆ†æå¹³å°é›†æˆæŒ‡å—
- Vercel APIä½¿ç”¨è¯´æ˜

### 3. README
**è·¯å¾„**ï¼š`README.md`

**å†…å®¹**ï¼š
- é¡¹ç›®ä»‹ç»
- å¿«é€Ÿå¼€å§‹
- æŠ€æœ¯æ ˆè¯´æ˜
- ä½¿ç”¨æŒ‡å—

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æœ¬åœ°æµ‹è¯•

```bash
# 1. å®‰è£…ä¾èµ–
npm install

# 2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# 3. æŸ¥çœ‹æ‰€æœ‰æ•…éšœç±»å‹
npm run chaos list

# 4. æµ‹è¯•æ•…éšœæ³¨å…¥
npm run chaos inject --type syntax-error

# 5. æŸ¥çœ‹å˜æ›´
git diff

# 6. æ¢å¤
npm run chaos restore
```

### éƒ¨ç½²åˆ°Vercel

```bash
# 1. æäº¤ä»£ç åˆ°GitHub
git add .
git commit -m "initial commit"
git push origin main

# 2. åœ¨Vercelå¯¼å…¥é¡¹ç›®
# è®¿é—® https://vercel.com/new

# 3. é…ç½®GitHub Webhook
# åœ¨GitHubä»“åº“è®¾ç½®ä¸­æ·»åŠ Webhook

# 4. å¼€å§‹æµ‹è¯•
npm run chaos inject --type syntax-error
git add .
git commit -m "test: inject syntax error"
git push origin main

# 5. è§‚å¯ŸVerceléƒ¨ç½²å¤±è´¥
# 6. æŸ¥çœ‹Buildæ—¥å¿—
# 7. éªŒè¯æ•…éšœåˆ†æå¹³å°æ”¶åˆ°æ•°æ®
```

---

## ğŸ“Š æ•…éšœåˆ†ææµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¼€å‘è€…æ³¨å…¥æ•…éšœ  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Git Push       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GitHub Webhook â”‚ â”€â”€â”€â”€â”€â”€â”
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
         â”‚                â”‚
         â–¼                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Vercelæ„å»º     â”‚  â”‚ æ•…éšœåˆ†æå¹³å°     â”‚
â”‚  âŒ å¤±è´¥        â”‚  â”‚ æ¥æ”¶Webhook      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                    â”‚
         â”‚  Buildæ—¥å¿—         â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                              â”‚
                              â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  åˆ†æé”™è¯¯ç±»å‹     â”‚
                    â”‚  - è§£ææ—¥å¿—      â”‚
                    â”‚  - è¯†åˆ«é”™è¯¯      â”‚
                    â”‚  - å®šä½ä»£ç       â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  ç”Ÿæˆæ•…éšœæŠ¥å‘Š     â”‚
                    â”‚  - é”™è¯¯ç±»å‹      â”‚
                    â”‚  - é”™è¯¯ä½ç½®      â”‚
                    â”‚  - ä¿®å¤å»ºè®®      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Buildæ—¥å¿—ç¤ºä¾‹

### ç¤ºä¾‹1ï¼šè¯­æ³•é”™è¯¯

```
[14:23:45.123] Running build in San Francisco, USA (West) â€“ sfo1
[14:23:45.234] Cloning github.com/user/repo (Branch: main, Commit: abc123)
[14:23:46.123] Installing dependencies...
[14:23:48.456] Dependencies installed
[14:23:48.567] Running "npm run build"
[14:23:49.123] 
[14:23:49.234] > build
[14:23:49.345] > vite build
[14:23:49.456] 
[14:23:50.123] vite v5.1.0 building for production...
[14:23:51.234] transforming...
[14:23:52.345] âœ˜ [ERROR] Expected closing tag
[14:23:52.456] 
[14:23:52.567]     src/pages/Home.jsx:42:5:
[14:23:52.678]       42 â”‚     </div>
[14:23:52.789]          â”‚     ^
[14:23:52.890]       43 â”‚   {/* Missing closing tag */}
[14:23:52.901]          â”‚
[14:23:53.012] 
[14:23:53.123] error: Build failed with 1 error
[14:23:53.234] Error: Command "npm run build" exited with 1
```

### ç¤ºä¾‹2ï¼šä¾èµ–ç¼ºå¤±

```
[14:25:01.123] Installing dependencies...
[14:25:02.234] npm ERR! code ERESOLVE
[14:25:02.345] npm ERR! ERESOLVE could not resolve
[14:25:02.456] npm ERR! 
[14:25:02.567] npm ERR! While resolving: castrel-webhook-demo@2.0.0
[14:25:02.678] npm ERR! Found: react@18.3.1
[14:25:02.789] npm ERR! Could not resolve dependency:
[14:25:02.890] npm ERR! peer react-router-dom@"*" from castrel-webhook-demo@2.0.0
[14:25:02.901] npm ERR! 
[14:25:03.012] Error: Command "npm install" exited with 1
```

---

## ğŸ’¡ æ•…éšœåˆ†æå¹³å°éœ€è¦å®ç°çš„åŠŸèƒ½

### 1. Webhookæ¥æ”¶
```javascript
POST /webhook
{
  "ref": "refs/heads/main",
  "commits": [{
    "id": "abc123",
    "message": "test: inject syntax error",
    "modified": ["src/pages/Home.jsx"]
  }]
}
```

### 2. Buildæ—¥å¿—è·å–
```javascript
// é€šè¿‡Vercel APIè·å–
GET https://api.vercel.com/v1/deployments/{id}/events
Authorization: Bearer {token}
```

### 3. é”™è¯¯åˆ†æ
```javascript
function analyzeBuildError(buildLog) {
  // è¯†åˆ«é”™è¯¯ç±»å‹
  if (buildLog.includes('Expected closing tag')) {
    return {
      type: 'syntax-error',
      category: 'build-errors',
      file: extractFilePath(buildLog),
      line: extractLineNumber(buildLog),
      message: 'JSXè¯­æ³•é”™è¯¯ï¼šç¼ºå°‘é—­åˆæ ‡ç­¾'
    };
  }
  
  if (buildLog.includes('Cannot find module')) {
    return {
      type: 'import-error',
      category: 'build-errors',
      file: extractFilePath(buildLog),
      missingModule: extractModuleName(buildLog),
      message: 'å¯¼å…¥è·¯å¾„é”™è¯¯ï¼šæ¨¡å—ä¸å­˜åœ¨'
    };
  }
  
  // ... å…¶ä»–é”™è¯¯ç±»å‹
}
```

### 4. æŠ¥å‘Šç”Ÿæˆ
```javascript
{
  "deploymentId": "dpl_xxx",
  "status": "failed",
  "commit": {
    "sha": "abc123",
    "message": "test: inject syntax error",
    "author": "developer"
  },
  "error": {
    "type": "syntax-error",
    "category": "build-errors",
    "severity": "high",
    "file": "src/pages/Home.jsx",
    "line": 42,
    "message": "JSXè¯­æ³•é”™è¯¯ï¼šç¼ºå°‘é—­åˆæ ‡ç­¾",
    "suggestion": "æ£€æŸ¥ç¬¬42è¡Œï¼Œæ·»åŠ ç¼ºå¤±çš„</div>æ ‡ç­¾"
  },
  "buildLog": "..."
}
```

---

## âœ… éªŒè¯æ¸…å•

### é¡¹ç›®å®Œæˆåº¦
- [x] Reactåº”ç”¨ï¼ˆ3000+è¡Œä»£ç ï¼‰
- [x] CLIå·¥å…·ï¼ˆ1500+è¡Œä»£ç ï¼‰
- [x] 12ç§æ„å»ºå¤±è´¥é”™è¯¯æ¨¡æ¿
- [x] å®Œæ•´çš„æ•…éšœæµ‹è¯•æ“ä½œæ‰‹å†Œ
- [x] READMEå’Œå¿«é€Ÿå¼€å§‹æŒ‡å—
- [x] TODOå’Œéƒ¨ç½²æŒ‡å—

### åŠŸèƒ½éªŒè¯
- [x] CLIå‘½ä»¤å¯ä»¥æ­£å¸¸æ‰§è¡Œ
- [x] æ•…éšœæ³¨å…¥åŠŸèƒ½æ­£å¸¸
- [x] å¤‡ä»½æ¢å¤åŠŸèƒ½æ­£å¸¸
- [x] æ‰€æœ‰æ•…éšœç±»å‹éƒ½ä¼šå¯¼è‡´æ„å»ºå¤±è´¥

### æ–‡æ¡£éªŒè¯
- [x] æ“ä½œæ‰‹å†Œè¯¦ç»†å®Œæ•´
- [x] æ¯ç§æ•…éšœéƒ½æœ‰æµ‹è¯•æ­¥éª¤
- [x] åŒ…å«Buildæ—¥å¿—ç¤ºä¾‹
- [x] åŒ…å«éªŒè¯æ–¹æ³•

---

## ğŸ‰ é¡¹ç›®å®Œæˆ

**çŠ¶æ€**ï¼šâœ… 100%å®Œæˆ

**ç‰¹ç‚¹**ï¼š
- âœ… åªåŒ…å«æ„å»ºå¤±è´¥çš„é”™è¯¯ç±»å‹
- âœ… æ‰€æœ‰æ•…éšœéƒ½ä¼šå¯¼è‡´éƒ¨ç½²å¤±è´¥
- âœ… å®Œæ•´çš„æµ‹è¯•æ“ä½œæ‰‹å†Œ
- âœ… è¯¦ç»†çš„é›†æˆæŒ‡å—

**ä¸‹ä¸€æ­¥**ï¼š
1. éƒ¨ç½²åˆ°Vercel
2. é…ç½®GitHub Webhook
3. å¼€å‘æ•…éšœåˆ†æå¹³å°
4. å¼€å§‹æ··æ²Œå·¥ç¨‹æ¼”ç»ƒ


**ç¥æ‚¨æµ‹è¯•é¡ºåˆ©ï¼** ğŸš€

